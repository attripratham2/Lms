"use strict";(self.webpackChunkleemons_plugin_menu_builder_frontend_react=self.webpackChunkleemons_plugin_menu_builder_frontend_react||[]).push([[348,880],{"../../../node_modules/@mdx-js/react/lib/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{NF:()=>withMDXComponents,Zo:()=>MDXProvider,ah:()=>useMDXComponents,pC:()=>MDXContext});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/react/index.js");const MDXContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({});function withMDXComponents(Component){return function boundMDXComponent(props){const allComponents=useMDXComponents(props.components);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component,{...props,allComponents})}}function useMDXComponents(components){const contextComponents=react__WEBPACK_IMPORTED_MODULE_0__.useContext(MDXContext);return react__WEBPACK_IMPORTED_MODULE_0__.useMemo((()=>"function"==typeof components?components(contextComponents):{...contextComponents,...components}),[contextComponents,components])}const emptyObject={};function MDXProvider({components,children,disableParentContext}){let allComponents;return allComponents=disableParentContext?"function"==typeof components?components({}):components||emptyObject:useMDXComponents(components),react__WEBPACK_IMPORTED_MODULE_0__.createElement(MDXContext.Provider,{value:allComponents},children)}},"./src/components/MainNavBar/MainNavBar.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("../../../node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/react/jsx-runtime.js"),_home_runner_work_leemons_leemons_node_modules_storybook_addon_docs_dist_shims_mdx_react_shim__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/@mdx-js/react/lib/index.js"),_storybook_blocks__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../../node_modules/@storybook/blocks/dist/index.mjs"),_MainNavBar_stories_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/MainNavBar/MainNavBar.stories.js");function _createMdxContent(props){const _components=Object.assign({h1:"h1",p:"p",a:"a",h2:"h2",ul:"ul",li:"li"},(0,_home_runner_work_leemons_leemons_node_modules_storybook_addon_docs_dist_shims_mdx_react_shim__WEBPACK_IMPORTED_MODULE_3__.ah)(),props.components);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_4__.h_,{title:"MDX/MainNavBar",of:_MainNavBar_stories_js__WEBPACK_IMPORTED_MODULE_2__}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h1,{id:"mainnavbar",children:"MainNavBar"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.a,{href:"https://github.com/leemonade/bubbles/tree/main/packages/components/library/LibraryCard",target:"_blank",rel:"nofollow noopener noreferrer",children:"Source code"})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h2,{id:"table-of-contents",children:"Table of Contents"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.ul,{children:["\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.li,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.a,{href:"#overview",children:"Overview"})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.li,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.a,{href:"#component-api",children:"Component API"})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.li,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.a,{href:"#references",children:"References"})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.li,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.a,{href:"#feedback",children:"Feedback"})}),"\n"]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h2,{id:"overview",children:"Overview"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_4__.sq,{}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h2,{id:"component-api",children:"Component API"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_4__.ZX,{}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h2,{id:"feedback",children:"Feedback"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["Help us improve this component by providing feedback, asking questions on Slack, or updating this file on\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.a,{href:"https://github.com/leemonade/bubbles/edit/main/packages/components/library/LibraryCard.mdx",target:"_blank",rel:"nofollow noopener noreferrer",children:"GitHub"})]})]})}const __WEBPACK_DEFAULT_EXPORT__=function MDXContent(props={}){const{wrapper:MDXLayout}=Object.assign({},(0,_home_runner_work_leemons_leemons_node_modules_storybook_addon_docs_dist_shims_mdx_react_shim__WEBPACK_IMPORTED_MODULE_3__.ah)(),props.components);return MDXLayout?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(MDXLayout,Object.assign({},props,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_createMdxContent,props)})):_createMdxContent(props)}},"./src/components/MainNavBar/MainNavBar.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Playground:()=>Playground,__namedExportsOrder:()=>__namedExportsOrder,default:()=>MainNavBar_stories});var react=__webpack_require__("../../../node_modules/react/index.js"),Box=__webpack_require__("../../../node_modules/@bubbles-ui/components/es/layout/Box/Box.js"),Spotlight=__webpack_require__("../../../node_modules/@bubbles-ui/components/es/navigation/Spotlight/Spotlight.js"),react_router_dom=__webpack_require__("../../../node_modules/react-router-dom/esm/react-router-dom.js"),Navbar=__webpack_require__("../../../node_modules/@mantine/core/esm/AppShell/Navbar/Navbar.js"),ImageLoader=__webpack_require__("../../../node_modules/@bubbles-ui/components/es/misc/ImageLoader/ImageLoader.js"),TextClamp=__webpack_require__("../../../node_modules/@bubbles-ui/components/es/typography/TextClamp/TextClamp.js"),Text=__webpack_require__("../../../node_modules/@bubbles-ui/components/es/typography/Text/Text.js"),events=__webpack_require__("../../../node_modules/@mantine/spotlight/esm/events.js"),lodash=__webpack_require__("../../../node_modules/lodash/lodash.js"),AnimatePresence=__webpack_require__("../../../node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs"),motion=__webpack_require__("../../../node_modules/framer-motion/dist/es/render/dom/motion.mjs"),react_router=__webpack_require__("../../../node_modules/react-router/esm/react-router.js"),MainNavBar_constants=__webpack_require__("./src/components/MainNavBar/MainNavBar.constants.js"),prop_types=__webpack_require__("../../../node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),create_styles=__webpack_require__("../../../node_modules/@mantine/styles/esm/tss/create-styles.js");const LogoStyles=(0,create_styles.k)((theme=>({positive:{color:theme.colors.text01},negative:{color:theme.colors.text07}})));var jsx_runtime=__webpack_require__("../../../node_modules/react/jsx-runtime.js");const LOGO_VARIANTS=["positive","negative"],Logo=_ref=>{let{variant=LOGO_VARIANTS[0],isotype,className}=_ref;const width=isotype?"32":"200",{classes,cx}=LogoStyles();return(0,jsx_runtime.jsxs)("svg",{className:cx(classes[variant],className),width,height:"40",viewBox:`0 0 ${width} 40`,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,jsx_runtime.jsx)("path",{d:"M31.4835 14.2889L21.5463 8.53837H4.31261L14.2498 14.2889H31.4835ZM27.6552 31.4617L17.718 25.7111H0.484375L10.4216 31.4617H27.6552Z",fill:"#7B9D2E"}),(0,jsx_runtime.jsx)("path",{d:"M25.2007 4.36937C24.6816 3.99549 24.2905 3.44997 24.096 2.80004C23.7293 1.57492 22.6832 0.531197 21.2655 0.14888C19.8479 -0.233696 18.4238 0.143478 17.4978 1.01977C17.0065 1.48474 16.3971 1.76028 15.7617 1.82263C11.3981 2.25227 7.25869 4.71293 4.31171 8.53818H29.1107C28.0592 6.89858 26.7424 5.47993 25.2007 4.36937ZM6.76537 35.6304C7.28461 36.0044 7.67556 36.5499 7.87011 37.1999C8.23696 38.425 9.28292 39.4686 10.7007 39.851C12.1184 40.2336 13.5423 39.8563 14.4683 38.9801C14.9595 38.5152 15.5691 38.2396 16.2044 38.1771C20.5681 37.7476 24.7074 35.287 27.6544 31.4616H2.85557C3.90689 33.1013 5.22399 34.5198 6.76537 35.6304ZM30.7555 25.7111H0.483479C-0.208588 22.6407 -0.181227 19.2626 0.718487 15.8815C0.862082 15.3444 1.0263 14.8131 1.21076 14.2888H31.4826C32.1747 17.3592 32.1473 20.7374 31.2476 24.1183C31.1041 24.6554 30.9399 25.1867 30.7555 25.7111Z",fill:"#B1E400"})]})};Logo.displayName="Logo",Logo.propTypes={variant:prop_types_default().oneOf(LOGO_VARIANTS),isotype:prop_types_default().bool,className:prop_types_default().string},Logo.__docgenInfo={description:"",methods:[],displayName:"Logo",props:{variant:{defaultValue:{value:"LOGO_VARIANTS[0]",computed:!0},description:"",type:{name:"enum",value:[{value:"'positive'",computed:!1},{value:"'negative'",computed:!1}]},required:!1},isotype:{description:"",type:{name:"bool"},required:!1},className:{description:"",type:{name:"string"},required:!1}}};var theme_mixins=__webpack_require__("../../../node_modules/@bubbles-ui/components/es/theme.mixins.js");const MainNavBarStyles=(0,create_styles.k)(((theme,_ref)=>{let{itemWidth,isCollapsed}=_ref;const leemonsStyles=theme.other;return{root:{display:"flex",width:"100%",position:"relative"},navBar:{boxShadow:isCollapsed?"none":"0px 10px 36px 0px rgba(26, 32, 43, 0.08), 0px 2px 0px 0px rgba(221, 225, 230, 0.08)",backgroundColor:leemonsStyles.menu.background.color.main.default},navTitle:{...leemonsStyles.global.content.typo.heading.lg,lineHeight:"24px",color:leemonsStyles.menu.content.color.main.default},navWrapper:{position:"relative",height:"100vh",width:(0,theme_mixins.Q1)(itemWidth),backgroundColor:leemonsStyles.menu.background.color.main.default,zIndex:30,overflow:"hidden"},navItems:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%"},linksInner:{overflow:"scroll",marginBottom:"180px",textDecoration:"none"},navItemsWrapper:{height:"100%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},logoUrl:{maxHeight:40,maxWidth:32,marginLeft:"auto",marginRight:"auto"},logo:{maxWidth:(0,theme_mixins.Q1)(31),minWidth:(0,theme_mixins.Q1)(31)},logoContainer:{margin:"auto",padding:"16px 12px",display:"flex",gap:12,alignItems:"center",justifyContent:"flex-start"}}}));var esm=__webpack_require__("../../../node_modules/@bubbles-ui/icons/outline/esm/index.js");const SpotLightButtonStyles=(0,create_styles.k)((theme=>{const leemonsStyles=theme.other;return{buttonWrapper:{padding:"12px 16px 12px 20px",width:"auto",display:"flex",alignItems:"center",gap:"12px ",cursor:"pointer","&:hover":{backgroundColor:leemonsStyles.menu.background.color.main.hover},"&:active":{backgroundColor:"#DEF2F0"}},icon:{width:"18px",height:"18px",color:leemonsStyles.menu.content.color.main.default},text:{...leemonsStyles.menu.content["typo--regular"],lineHeight:"24px",color:leemonsStyles.menu.content.color.main.default}}})),SPOTLIGHT_BUTTON_PROP_TYPES={onClick:prop_types_default().func,isCollapsed:prop_types_default().bool,ligthMode:prop_types_default().bool,spotlightLabel:prop_types_default().string},SpotLightButton=_ref=>{let{onClick,isCollapsed,spotlightLabel}=_ref;const{classes}=SpotLightButtonStyles();return(0,jsx_runtime.jsx)(Box.xu,{children:(0,jsx_runtime.jsxs)(Box.xu,{variant:"link",role:"button",onClick:()=>onClick(),className:classes.buttonWrapper,children:[(0,jsx_runtime.jsx)(esm.W1M,{className:classes.icon}),(0,jsx_runtime.jsx)(motion.E.div,{initial:{opacity:"0"},animate:isCollapsed?"closed":"open",variants:MainNavBar_constants.Jj,children:(0,jsx_runtime.jsx)(Text.xv,{className:classes.text,children:spotlightLabel})})]})})};SpotLightButton.displayName="SpotLightButton",SpotLightButton.displayName="SpotLightButton",SpotLightButton.defaultProps={onClick:()=>{},isCollapsed:!1,ligthMode:!1,spotlightLabel:"Buscar en el menu"},SpotLightButton.propTypes=SPOTLIGHT_BUTTON_PROP_TYPES,SpotLightButton.__docgenInfo={description:"",methods:[],displayName:"SpotLightButton",composes:["./SpotLightButton.constants"]};var NavItem=__webpack_require__("./src/components/MainNavBar/components/NavItem/NavItem.js"),Group=__webpack_require__("../../../node_modules/@mantine/core/esm/Group/Group.js"),UnstyledButton=__webpack_require__("../../../node_modules/@mantine/core/esm/UnstyledButton/UnstyledButton.js"),Avatar=__webpack_require__("../../../node_modules/@bubbles-ui/components/es/informative/Avatar/Avatar.js"),Collapse=__webpack_require__("../../../node_modules/@mantine/core/esm/Collapse/Collapse.js");function getUserFullName(user){return`${user.name?user.name:""}${user.surnames?` ${user.surnames}`:""}${user.secondSurname?` ${user.secondSurname}`:""}`}const UserButttonStyles=(0,create_styles.k)(((theme,_ref)=>{let{opened}=_ref;const leemonsStyles=theme.other;return{control:{zIndex:3,position:"absolute",bottom:"0px",fontWeight:500,display:"flex",flexDirection:"row",alignItems:"center",width:"100%",paddingRight:16,paddingLeft:4,fontSize:theme.fontSizes.sm,backgroundColor:leemonsStyles.menu.background.color.main.default,boxShadow:opened?"0px 10px 36px 0px rgba(33, 39, 42, 0.12)":"none","&:hover":{backgroundColor:leemonsStyles.menu.background.color.main.hover,color:"dark"===theme.colorScheme?theme.white:theme.black}},itemWrapper:{padding:12,width:"100%",display:"flex",alignItems:"center",flexDirection:"row",gap:"12px ",cursor:"pointer",position:"relative"},chevron:{transition:"transform 200ms ease",color:leemonsStyles.menu.content.color.main.default},nameContainer:{...leemonsStyles.menu.content["typo--regular"],maxWidth:140,color:leemonsStyles.menu.content.color.main.default,lineHeight:"24px"},menuItemsContainer:{paddingTop:leemonsStyles.menu.spacing.padding.xsm,backgroundColor:leemonsStyles.menu.background.color.main.default,position:"absolute",bottom:40,width:"100%",boxShadow:"0px 10px 36px 0px rgba(26, 32, 43, 0.16), 0px 2px 0px 0px rgba(221, 225, 230, 0.24)",maxHeight:220,overflowY:"scroll"},link:{...leemonsStyles.menu.content["typo--regular"],lineHeight:"24px",width:"100%",display:"block",textDecoration:"none",cursor:"pointer",color:leemonsStyles.menu.content.color.main.default},childrenContainer:{display:"flex",justifyContent:"center",alignItems:"center",padding:"8px 16px",backgroundColor:leemonsStyles.menu.background.color.main.default,color:leemonsStyles.menu.content.color.main.default,borderTopRightRadius:leemonsStyles.menu.border.radius.md,borderBottomRightRadius:leemonsStyles.menu.border.radius.md,"&:hover":{backgroundColor:leemonsStyles.menu.background.color.main.hover,width:"100%"},"&:active":{backgroundColor:leemonsStyles.menu.background.color.main.active}},childrenContainerActive:{display:"flex",justifyContent:"center",alignItems:"center",padding:"8px 16px",backgroundColor:leemonsStyles.menu.background.color.main.active,borderTopRightRadius:leemonsStyles.menu.border.radius.md,borderBottomRightRadius:leemonsStyles.menu.border.radius.md,"&:active":{backgroundColor:leemonsStyles.menu.background.color.main.active}},openIcon:{width:"12px",height:"12px"}}})),USER_BUTTON_PROP_TYPES={name:prop_types_default().string,isCollapsed:prop_types_default().bool,session:prop_types_default().object,sessionMenu:prop_types_default().object,onOpen:prop_types_default().func,expandedItem:prop_types_default().string,isSubItemActive:prop_types_default().bool,lightMode:prop_types_default().bool};var LinkWrapper=__webpack_require__("./src/components/MainNavBar/components/LinkWrapper/index.js");function UserButton(_ref){let{name,isCollapsed,session,sessionMenu,onOpen,expandedItem,subItemActive,useRouter}=_ref;const[opened,setOpened]=(0,react.useState)(!1),{classes,theme}=UserButttonStyles({opened}),hasChildren=sessionMenu?.children.length>0,items=(hasChildren?sessionMenu.children:[]).map(((child,index)=>{const isChildrenActive=child.id===subItemActive?.id,hasOpenIcon="BLANK"===child.window||"NEW"===child.window;return(0,jsx_runtime.jsx)(LinkWrapper.g,{useRouter,url:child.url,id:child.id,children:(0,jsx_runtime.jsxs)(Box.xu,{className:isChildrenActive?classes.childrenContainerActive:classes.childrenContainer,children:[(0,jsx_runtime.jsx)(TextClamp.xR,{lines:1,children:(0,jsx_runtime.jsx)(Text.xv,{className:classes.link,children:child.label})}),hasOpenIcon&&(0,jsx_runtime.jsx)(esm.Og3,{className:classes.openIcon})]})},`itemLink--${index}`)}));(0,react.useEffect)((()=>{setOpened(expandedItem===sessionMenu?.id)}),[expandedItem,setOpened]),(0,react.useEffect)((()=>{isCollapsed&&setOpened(!1),isCollapsed||expandedItem!==sessionMenu?.id||setOpened(!0)}),[isCollapsed]);return(0,jsx_runtime.jsxs)(AnimatePresence.M,{children:[(0,jsx_runtime.jsx)(Group.Z,{children:(0,jsx_runtime.jsxs)(UnstyledButton.k,{className:classes.control,onClick:()=>(setOpened((o=>!o)),void onOpen(sessionMenu?.id)),children:[(0,jsx_runtime.jsxs)(Group.Z,{className:classes.itemWrapper,children:[(0,jsx_runtime.jsx)(Avatar.q,{src:session?.avatar,radius:"xl",size:"sm",image:session?.avatar,fullName:session?getUserFullName(session):void 0,alt:session?getUserFullName(session):"user avatar"}),(0,jsx_runtime.jsx)(motion.E.div,{initial:{opacity:"0"},animate:isCollapsed?"closed":"open",variants:MainNavBar_constants.Jj,children:(0,jsx_runtime.jsx)(TextClamp.xR,{lines:1,children:(0,jsx_runtime.jsx)(Text.xv,{className:classes.nameContainer,children:name})})})]}),(0,jsx_runtime.jsx)(Box.xu,{className:classes.chevronContainer,children:(0,jsx_runtime.jsx)(esm.f98,{className:classes.chevron,style:{transform:opened?`rotate(${"rtl"===theme.dir?90:180}deg)`:"none"}})})]})},"groupKey"),hasChildren?(0,jsx_runtime.jsx)(Box.xu,{className:classes.menuItemsContainer,children:(0,jsx_runtime.jsx)(Collapse.U,{in:opened,children:items})}):null]})}UserButton.displayName="UserButton",UserButton.defaultProps={name:"",isCollapsed:!1,session:{},sessionMenu:{},onOpen:()=>{},expandedItem:null,isSubItemActive:!1},UserButton.propTypes=USER_BUTTON_PROP_TYPES,UserButton.__docgenInfo={description:"",methods:[],displayName:"UserButton",composes:["./UserButton.constants"]};const MainNavBar=_ref=>{let{logoUrl,navTitle,isLoading,session,sessionMenu,menuData,useRouter,spotlightLabel}=_ref;const[isCollapsed,setIsCollapsed]=(0,react.useState)(!0),[expandedItem,setExpandedItem]=(0,react.useState)(null),[activeItem,setActiveItem]=(0,react.useState)(null),[activeSubItem,setActiveSubItem]=(0,react.useState)(null),{classes}=MainNavBarStyles({itemWidth:MainNavBar_constants.Ux,isCollapsed},{name:"MainNav"}),handleItemClick=item=>{item.id===expandedItem?setExpandedItem(null):setExpandedItem(item.id)},handleRouteChange=()=>{let menu=menuData;sessionMenu&&(menu=[...menu,sessionMenu]);const items=(menuData=>{let activeItem=null,activeSubItem=null;if(window&&window.location){const url=window.location.pathname;(0,lodash.forEach)(menuData,(item=>{if(item.url===url&&(activeItem=item),(0,lodash.forEach)(item.children,(subItem=>{if(subItem.url===url)return activeItem=item,activeSubItem=subItem,!1})),activeItem)return!1})),activeItem||(0,lodash.forEach)(menuData,(item=>{if(item.url){const match=url.indexOf(item.url);if(match>-1&&match<4)return activeItem=item,!1}if((0,lodash.forEach)(item.children,(subItem=>{if(subItem.url){const matchUrl=url.indexOf(subItem.url);if(matchUrl>-1&&matchUrl<4)return activeItem=item,activeSubItem=subItem,!1}})),activeItem)return!1}))}return{activeItem,activeSubItem}})(menu);items?.activeItem&&items.activeItem.id!==activeItem?.id&&setActiveItem(items.activeItem),items?.activeSubItem&&items.activeSubItem.id!==activeSubItem?.id&&setActiveSubItem(items.activeSubItem)};(0,react.useEffect)((()=>{if((isLoading||!menuData||(0,lodash.isArray)(menuData)&&!menuData.length)&&handleRouteChange(),menuData&&activeItem){let menu=menuData;sessionMenu&&(menu=[...menu,sessionMenu]),setActiveItem((0,lodash.find)(menu,{id:activeItem.id}))}}),[menuData,sessionMenu,isLoading]);const location=(0,react_router.TH)();(0,react.useEffect)((()=>{!isLoading&&(0,lodash.isArray)(menuData)&&menuData.length&&handleRouteChange()}),[location]);const hasLogo=!(0,lodash.isEmpty)(logoUrl),navBarItems=(0,react.useMemo)((()=>menuData.map(((item,index)=>{const isSubItemActive=item.children.length>0&&item.children.find((child=>child?.id===activeSubItem?.id)),isActive=isCollapsed?activeItem?.id===item.id:item.id===activeItem?.id&&!isSubItemActive;return(0,react.createElement)(NavItem.L,{...item,key:`navItem--${index}`,isCollapsed,id:item.id,onOpen:()=>handleItemClick(item),expandedItem,isActive,subItemActive:isSubItemActive,useRouter,childrenCollection:item.children})}))),[isCollapsed]);return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)(AnimatePresence.M,{children:(0,jsx_runtime.jsx)(motion.E.div,{sx:()=>({overflow:"hidden"}),initial:{width:MainNavBar_constants.YF},amimate:isCollapsed?"closed":"open",variants:MainNavBar_constants.kd,whileHover:{width:MainNavBar_constants.Ux},transition:{type:"tween"},children:(0,jsx_runtime.jsx)(Navbar.w,{onMouseEnter:()=>setIsCollapsed(!1),onMouseLeave:()=>setIsCollapsed(!0),sx:()=>({overflow:"hidden"}),className:classes.navBar,withBorder:!1,children:(0,jsx_runtime.jsxs)(Box.xu,{className:classes.navWrapper,children:[(0,jsx_runtime.jsx)(Box.xu,{children:(0,jsx_runtime.jsxs)(Box.xu,{className:classes.logoContainer,children:[hasLogo?(0,jsx_runtime.jsx)(ImageLoader.S,{src:logoUrl,forceImage:!0,className:classes.logoUrl,height:"auto",alt:"custom-logo"}):(0,jsx_runtime.jsx)(Logo,{isotype:!0,className:classes.logo}),navTitle?(0,jsx_runtime.jsx)(motion.E.div,{initial:{opacity:"0"},animate:isCollapsed?"closed":"open",variants:MainNavBar_constants.Jj,children:(0,jsx_runtime.jsx)(TextClamp.xR,{lines:1,children:(0,jsx_runtime.jsx)(Text.xv,{role:"expressive",size:"lg",lines:1,strong:!0,className:classes.navTitle,children:navTitle})})}):null]})}),(0,jsx_runtime.jsxs)(Box.xu,{className:classes.navItemsWrapper,children:[(0,jsx_runtime.jsx)(Box.xu,{children:(0,jsx_runtime.jsx)(SpotLightButton,{onClick:()=>(0,events.Fo)(),isCollapsed,spotlightLabel})}),(0,jsx_runtime.jsxs)(Box.xu,{className:classes.navItems,children:[(0,jsx_runtime.jsx)(Box.xu,{className:classes.linksInner,children:navBarItems}),(0,jsx_runtime.jsx)(Box.xu,{children:(0,jsx_runtime.jsx)(UserButton,{name:getUserFullName(session),isCollapsed,session,sessionMenu,onOpen:()=>handleItemClick(sessionMenu),expandedItem,subItemActive:activeSubItem})})]})]})]})})})})})};MainNavBar.displayName="MainNavBar",MainNavBar.defaultProps=MainNavBar_constants.$G,MainNavBar.propTypes=MainNavBar_constants.XZ,MainNavBar.__docgenInfo={description:"",methods:[],displayName:"MainNavBar",composes:["./MainNavBar.constants"]};var menuData=__webpack_require__("./src/components/MainNavBar/mock/menuData.js");const MainNavBar_stories={title:"leemons/MainNavBar",parameters:{component:MainNavBar,design:{type:"figma",url:"https://www.figma.com/file/OMMWWv7my6KCmpVwmZ6QcW/Bubbles---Components-(Copy)?node-id=1330%3A19227&mode=dev"}},argTypes:{}},Template=_ref=>{let{...props}=_ref;return(0,jsx_runtime.jsx)(Box.xu,{style:{margin:"-1rem"},children:(0,jsx_runtime.jsx)(Spotlight.$,{children:(0,jsx_runtime.jsx)(react_router_dom.VK,{children:(0,jsx_runtime.jsx)(MainNavBar,{...props})})})})};Template.displayName="Template";const Playground=Template.bind({});Playground.args={...MainNavBar_constants.$G,menuData:menuData.KD,sessionMenu:menuData.HR,session:menuData.nP},Playground.parameters={...Playground.parameters,docs:{...Playground.parameters?.docs,source:{originalSource:"({\n  ...props\n}) => <Box style={{\n  margin: '-1rem'\n}}>\n    <Spotlight>\n      <BrowserRouter>\n        <MainNavBar {...props} />\n      </BrowserRouter>\n    </Spotlight>\n  </Box>",...Playground.parameters?.docs?.source}}};const __namedExportsOrder=["Playground"]}}]);