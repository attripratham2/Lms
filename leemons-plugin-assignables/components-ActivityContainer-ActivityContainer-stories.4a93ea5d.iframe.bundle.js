"use strict";(self.webpackChunkleemons_plugin_assignables_frontend_react=self.webpackChunkleemons_plugin_assignables_frontend_react||[]).push([[579],{"./src/components/ActivityContainer/ActivityContainer.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Playground:()=>Playground,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("../../../node_modules/react/index.js");var _bubbles_ui_components__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../../node_modules/@bubbles-ui/components/es/layout/ContextContainer/ContextContainer.js"),_bubbles_ui_components__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../../node_modules/@bubbles-ui/components/es/typography/Paragraph/Paragraph.js"),_ActivityContainer__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/ActivityContainer/ActivityContainer.js"),_ActivityContainer_constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/ActivityContainer/ActivityContainer.constants.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__={title:"leemons/ActivityContainer",parameters:{component:_ActivityContainer__WEBPACK_IMPORTED_MODULE_1__.a,design:{type:"figma"}},argTypes:{}},Template=_ref=>{let{...props}=_ref;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_ActivityContainer__WEBPACK_IMPORTED_MODULE_1__.a,{...props})};Template.displayName="Template";const Playground=Template.bind({});Playground.args={..._ActivityContainer_constants__WEBPACK_IMPORTED_MODULE_2__.e,header:{title:"La historia detrás del cuadro que tiene más de dos lineas",icon:"https://icon-library.com/images/white-globe-icon/white-globe-icon-24.jpg",color:"#4F96FF",image:"https://images.unsplash.com/photo-1651874221995-23c71b639f74?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwxfDB8MXxyYW5kb218MHx8fHx8fHx8MTY1Mzk4NTc1NA&ixlib=rb-1.2.1&q=80&w=1080",subjects:[{name:"Historia - G01",icon:"https://static.thenounproject.com/png/447685-200.png",color:"#FABADA"},{name:"Geografia - G01",icon:"https://static.thenounproject.com/png/447685-200.png",color:"green"},{name:"Matematicas - G01",icon:"https://static.thenounproject.com/png/447685-200.png",color:"red"}],activityType:{icon:"https://static.thenounproject.com/png/447685-200.png",type:"Tarea"},activityEvaluation:"Puntuable",activityDates:{startLabel:"Desde",endLabel:"Hasta",hourLabel:"Hora",startDate:new Date,endDate:new Date((new Date).setDate((new Date).getDate()+30))},alertDays:29},deadline:{label:"Entrega",deadline:new Date("2022-05-22")},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_bubbles_ui_components__WEBPACK_IMPORTED_MODULE_4__.AY,{sx:theme=>({backgroundColor:theme.colors.uiBackground02}),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_bubbles_ui_components__WEBPACK_IMPORTED_MODULE_4__.AY,{padded:!0,spacing:10,children:[...Array(5).keys()].map((i=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_bubbles_ui_components__WEBPACK_IMPORTED_MODULE_5__.nv,{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."},`p${i}`)))})})},Playground.parameters={...Playground.parameters,docs:{...Playground.parameters?.docs,source:{originalSource:"({\n  ...props\n}) => {\n  return <ActivityContainer {...props} />;\n}",...Playground.parameters?.docs?.source}}};const __namedExportsOrder=["Playground"]},"./src/components/ActivityContainer/ActivityContainer.constants.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{e:()=>ACTIVITY_CONTAINER_DEFAULT_PROPS});var prop_types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__);const ACTIVITY_CONTAINER_DEFAULT_PROPS={collapsed:!1,collapseOnScroll:!1};prop_types__WEBPACK_IMPORTED_MODULE_0___default().shape({title:prop_types__WEBPACK_IMPORTED_MODULE_0___default().string,subtitle:prop_types__WEBPACK_IMPORTED_MODULE_0___default().string,icon:prop_types__WEBPACK_IMPORTED_MODULE_0___default().string,color:prop_types__WEBPACK_IMPORTED_MODULE_0___default().string,image:prop_types__WEBPACK_IMPORTED_MODULE_0___default().string}),prop_types__WEBPACK_IMPORTED_MODULE_0___default().shape({label:prop_types__WEBPACK_IMPORTED_MODULE_0___default().string,date:prop_types__WEBPACK_IMPORTED_MODULE_0___default().string}),prop_types__WEBPACK_IMPORTED_MODULE_0___default().node,prop_types__WEBPACK_IMPORTED_MODULE_0___default().bool,prop_types__WEBPACK_IMPORTED_MODULE_0___default().bool},"./src/components/ActivityContainer/ActivityContainer.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{a:()=>ActivityContainer});var react=__webpack_require__("../../../node_modules/react/index.js"),useResizeObserver=__webpack_require__("../../../node_modules/@bubbles-ui/components/es/hooks/useResizeObserver.js"),Box=__webpack_require__("../../../node_modules/@bubbles-ui/components/es/layout/Box/Box.js"),create_styles=__webpack_require__("../../../node_modules/@mantine/styles/esm/tss/create-styles.js"),theme_mixins=__webpack_require__("../../../node_modules/@bubbles-ui/components/es/theme.mixins.js");const ActivityContainerStyles=(0,create_styles.k)(((theme,_ref)=>{let{isScrolled}=_ref;return{root:{...(0,theme_mixins.Gi)(theme.fontSizes[2]),overflowY:"auto",maxHeight:"100vh"},header:{display:"flex",position:"fixed",minHeight:isScrolled?64:204,height:isScrolled?64:204,top:0,transition:"height 0.3s ease-in-out",zIndex:9},taskHeaderWrapper:{display:"flex",flex:1,alignItems:"center",zIndex:5,marginLeft:30},taskHeader:{zIndex:1,minWidth:690},deadline:{zIndex:1,position:"absolute",right:isScrolled?0:8,top:8}}}));var HeaderBackground=__webpack_require__("../../../node_modules/@bubbles-ui/leemons/es/common/HeaderBackground/HeaderBackground.js"),TaskHeader=__webpack_require__("../../../node_modules/@bubbles-ui/leemons/es/common/TaskHeader/TaskHeader.js"),TaskDeadline=__webpack_require__("../../../node_modules/@bubbles-ui/leemons/es/common/TaskDeadline/TaskDeadline.js"),ActivityContainer_constants=__webpack_require__("./src/components/ActivityContainer/ActivityContainer.constants.js"),jsx_runtime=__webpack_require__("../../../node_modules/react/jsx-runtime.js");const ActivityContainer=_ref=>{let{header,deadline,children,collapsed,collapseOnScroll,...props}=_ref;const{image,...headerProps}=header,[headerHeight,setHeaderHeight]=(0,react.useState)(0),[isScrolled,setIsScrolled]=(0,react.useState)(collapsed),[rootRef,rootRect]=(0,useResizeObserver.y)(),[headerRef,headerRect]=(0,useResizeObserver.y)(),[contentRef,contentRect]=(0,useResizeObserver.y)(),viewportHeight=window?.innerHeight,isScrollable=(64+contentRect?.height??0)>viewportHeight;react.useEffect((()=>setIsScrolled(collapsed)),[collapsed]),react.useEffect((()=>{headerRect.height!==headerHeight&&setHeaderHeight(headerRect.height)}),[headerRect.height]);const{classes,cx}=ActivityContainerStyles({isScrolled},{name:"ActivityContainer"});return(0,jsx_runtime.jsxs)(Box.xu,{ref:rootRef,onScroll:collapseOnScroll&&isScrollable?e=>{const{scrollTop}=e.target,isCurrentlyScrolled=scrollTop>40;collapsed||isCurrentlyScrolled!==isScrolled&&setIsScrolled(isCurrentlyScrolled)}:null,className:classes.root,children:[(0,jsx_runtime.jsxs)(Box.xu,{ref:headerRef,className:classes.header,style:{width:rootRect.width,top:rootRect.top},children:[(0,jsx_runtime.jsx)(HeaderBackground.w,{image,withGradient:!0,backgroundPosition:"center",styles:{position:"absolute",zIndex:1}}),(0,jsx_runtime.jsxs)(Box.xu,{className:classes.taskHeaderWrapper,children:[(0,jsx_runtime.jsx)(TaskHeader.w,{...headerProps,size:isScrolled?"sm":"md",className:classes.taskHeader}),deadline&&deadline.deadline?(0,jsx_runtime.jsx)(TaskDeadline.k,{...deadline,size:isScrolled?"sm":"md",className:classes.deadline}):null]})]}),(0,jsx_runtime.jsx)(Box.xu,{style:{marginTop:headerHeight},ref:contentRef,children:react.cloneElement(children,{marginTop:headerHeight})})]})};ActivityContainer.displayName="ActivityContainer",ActivityContainer.defaultProps=ActivityContainer_constants.e,ActivityContainer.__docgenInfo={description:"",methods:[],displayName:"ActivityContainer"}}}]);